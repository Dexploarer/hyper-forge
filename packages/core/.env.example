# =================================
# DATABASE (Railway PostgreSQL)
# =================================

# Get this from Railway Postgres service -> Variables tab -> DATABASE_URL or DATABASE_PUBLIC_URL
DATABASE_URL=postgresql://postgres:password@host:port/railway

# =================================
# AUTHENTICATION
# =================================

# Admin password for simple auth (Landing page login)
# This is a simple shared password for early alpha access
# Must be prefixed with VITE_ to be accessible in browser
VITE_ADMIN_PASSWORD=your_secure_password_here

# Privy credentials (from https://dashboard.privy.io) - Optional for advanced auth
PRIVY_APP_ID=your_privy_app_id
PRIVY_APP_SECRET=your_privy_app_secret

# Frontend Privy App ID (must be prefixed with VITE_ to be accessible in browser)
# Should be the same as PRIVY_APP_ID above
VITE_PRIVY_APP_ID=your_privy_app_id

# =================================
# AI SERVICES
# =================================

# Meshy AI (for 3D generation) - https://www.meshy.ai
MESHY_API_KEY=your_meshy_api_key

# Vercel AI Gateway (recommended for production)
# Get your API key from: https://vercel.com/account/tokens
# Supports unified access to OpenAI and other providers
# - Text generation (chat): openai/gpt-4o, openai/gpt-4o-mini
# - Image generation: google/gemini-2.5-flash-image (CURRENTLY USED - fast and cost-effective)
# - Gateway endpoints:
#   - Chat: https://ai-gateway.vercel.sh/v1/chat/completions
#   - Images: Uses chat completions with image-capable models
AI_GATEWAY_API_KEY=your_vercel_api_key_here

# Direct OpenAI API (alternative to AI Gateway)
# Get your API key from: https://platform.openai.com
# Used for gpt-image-1 when AI_GATEWAY_API_KEY is not set
OPENAI_API_KEY=your_openai_api_key

# =================================
# SERVER CONFIGURATION
# =================================

# API server port
API_PORT=3004

# Environment
NODE_ENV=development

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# Image server URL (for Meshy callbacks)
IMAGE_SERVER_URL=http://localhost:3004

# Assets directory (where game assets are stored)
# Default: {project-root}/gdd-assets
# For local dev with hyperscape-assets: /Users/home/hyperscape-assets/models
ASSETS_DIR=

# CDN URL (for publishing stable assets)
# Default: http://localhost:3005 (local dev)
# Production: https://cdn.asset-forge.com
CDN_URL=

# CDN API key (for authenticated publishing)
CDN_API_KEY=

# =================================
# WEBHOOK CONFIGURATION (CDN Integration)
# =================================

# Webhook secret for CDN -> Main App communication
# Both services must share the same secret for signature verification
# Generate with: openssl rand -hex 32
# Required for Railway deployment when using CDN webhooks
WEBHOOK_SECRET=

# Enable webhook receiver endpoint (set to "true" in production)
CDN_WEBHOOK_ENABLED=false

# System user ID for auto-created assets from CDN webhooks
# Optional - defaults to all-zeros UUID if not set
WEBHOOK_SYSTEM_USER_ID=

# =================================
# ASSET EXPORT
# =================================

# Path to your local clone of https://github.com/HyperscapeAI/assets
ASSETS_REPO_PATH=/path/to/assets-repo

# =================================
# OPTIONAL: ELEVENLABS (Voice Generation)
# =================================

# ElevenLabs API (if using voice features)
# ELEVENLABS_API_KEY=your_elevenlabs_api_key

# =================================
# VECTOR SEARCH (Qdrant)
# =================================

# Qdrant vector database for semantic search
# Get these from your Railway Qdrant service
QDRANT_URL=https://your-qdrant-instance.railway.app
QDRANT_API_KEY=your_qdrant_api_key

# =================================
# REDIS (Job Queue)
# =================================

# Redis connection URL for job queue
# Get this from Railway Redis service or use local Redis
# Format: redis://[username]:[password]@[host]:[port]
REDIS_URL=redis://localhost:6379

# Worker configuration
# Number of concurrent workers processing jobs
WORKER_CONCURRENCY=3

# Maximum retry attempts for failed jobs
MAX_JOB_RETRIES=3

# Queue poll timeout in seconds (how long workers wait for new jobs)
QUEUE_POLL_TIMEOUT=5
